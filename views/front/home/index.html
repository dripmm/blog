{{define "home/index.html"}}
    {{template "layout/header"}}
    <link rel="stylesheet" href="asset/css/home.css">
    {{template "layout/nav"}}
    <main class="main">
        <div class="container">
            <div class="intro">
                <div class="avatar">
                    <a href="https://themes.gohugo.io//theme/KeepIt/posts/">
                        <img src="asset/image/avatar.jpg">
                    </a>
                </div>

                <div class="description" id="description">
                    <h2>Welcome to my blog</h2>
                    <p>努力的意义不是为了无懈可击，万里挑一的自己，而是为了告诉你能够成为一个什么样的自己</p>
                </div>
                <div class="social-links">
                    <a href="https://github.com/dripmm" target="_blank" rel="me noopener noreffer" target="_blank"><i
                                class="iconfont icon-github"></i></a>
{{/*                    <a href="https://linkedin.com/in/xxxx" target="_blank" rel="me noopener noreffer" target="_blank"><i*/}}
{{/*                                class="iconfont icon-linkedin"></i></a>*/}}
{{/*                    <a href="https://twitter.com/xxxx" target="_blank" rel="me noopener noreffer" target="_blank"><i*/}}
{{/*                                class="iconfont icon-twitter"></i></a>*/}}
{{/*                    <a href="https://facebook.com/xxxx" rel="me noopener noreffer" target="_blank"><i*/}}
{{/*                                class="iconfont icon-facebook"></i></a>*/}}
                </div>
            </div>
        </div>
    </main>
{{template "layout/footer"}}
<script>
    function typeEffect(element, speed) {
        var text = $(element).text();
        $(element).html('');
        let i = 0;
        var timer = setInterval(function() {
            if (i < text.length) {
                $(element).append(text.charAt(i));
                ++i;
            } else {
                clearInterval();
            }
        }, speed);
    }

    $( document ).ready(function() {
        var speed = 72;
        var sum = 0;
        var delay = new Array();
        $('#description').children().each(function(){
            sum += ($(this).text().length-1) * speed + speed;
            delay.push(sum);
        });
        var plen = delay.length;
        typeEffect($('h2'), speed);
        /* 方法一：使用let块作用域 */
        for (let i = 2; i <= plen; ++i){
            setTimeout(function(){
                $('p:nth-child('+i+')').css('display', 'inline-block');
                typeEffect($('p:nth-child('+i+')'), speed);
            }, delay[i-2]);
        }
        /* 方法二：使用自执行函数提供闭包条件
        for (var i = 2; i <= plen; ++i){
          (function(i){
            setTimeout(function(){
              $('p:nth-child('+i+')').css('display', 'inline-block');
              typeEffect($('p:nth-child('+i+')'), speed);
            }, delay[i-2]);
          })(i);
        }*/
    });


</script>
{{end}}
